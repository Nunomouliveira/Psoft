<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="845px" preserveAspectRatio="none" style="width:777px;height:845px;background:#FFFFFF;" version="1.1" viewBox="0 0 777 845" width="777px" zoomAndPan="magnify"><defs/><g><!--MD5=[a0d94b09b17b306fb81c487dc7673e5c]
class SubscriptionController--><g id="elem_SubscriptionController"><rect codeLine="1" fill="#F1F1F1" height="66.6211" id="SubscriptionController" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="405" x="253.5" y="7"/><ellipse cx="381.75" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M384.5156,18.875 Q384.6719,18.6563 384.8594,18.5469 Q385.0469,18.4375 385.2656,18.4375 Q385.6406,18.4375 385.875,18.7031 Q386.1094,18.9531 386.1094,19.5625 L386.1094,21.0156 Q386.1094,21.625 385.875,21.8906 Q385.6406,22.1563 385.2656,22.1563 Q384.9219,22.1563 384.7188,21.9531 Q384.5156,21.7656 384.4063,21.25 Q384.3594,20.8906 384.1719,20.7031 Q383.8438,20.3281 383.2344,20.1094 Q382.625,19.8906 382,19.8906 Q381.2344,19.8906 380.5938,20.2188 Q379.9688,20.5469 379.4688,21.2969 Q378.9844,22.0469 378.9844,23.0781 L378.9844,24.1719 Q378.9844,25.4063 379.875,26.2344 Q380.7656,27.0469 382.3594,27.0469 Q383.2969,27.0469 383.9531,26.7969 Q384.3438,26.6406 384.7656,26.2031 Q385.0313,25.9375 385.1719,25.8594 Q385.3281,25.7813 385.5313,25.7813 Q385.8594,25.7813 386.1094,26.0469 Q386.375,26.2969 386.375,26.6406 Q386.375,26.9844 386.0313,27.3906 Q385.5313,27.9688 384.7344,28.2969 Q383.6563,28.75 382.3594,28.75 Q380.8438,28.75 379.6406,28.125 Q378.6563,27.625 377.9688,26.5625 Q377.2813,25.4844 377.2813,24.2031 L377.2813,23.0469 Q377.2813,21.7188 377.8906,20.5781 Q378.5156,19.4219 379.6094,18.8125 Q380.7031,18.1875 381.9375,18.1875 Q382.6719,18.1875 383.3125,18.3594 Q383.9688,18.5156 384.5156,18.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="402.25" y="28.7969">SubscriptionController</text><line style="stroke:#181818;stroke-width:0.5;" x1="254.5" x2="657.5" y1="39" y2="39"/><line style="stroke:#181818;stroke-width:0.5;" x1="254.5" x2="657.5" y1="47" y2="47"/><ellipse cx="264.5" cy="61.8105" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="379" x="273.5" y="66.1074">migrateAllSubscribers(Long currentPlanId, Long newPlanId);</text></g><!--MD5=[0dcc03df3314187238fb9500a6ba3a42]
class SubscriptionService--><g id="elem_SubscriptionService"><rect codeLine="7" fill="#F1F1F1" height="66.6211" id="SubscriptionService" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="405" x="253.5" y="135"/><ellipse cx="389.25" cy="151" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M392.0156,146.875 Q392.1719,146.6563 392.3594,146.5469 Q392.5469,146.4375 392.7656,146.4375 Q393.1406,146.4375 393.375,146.7031 Q393.6094,146.9531 393.6094,147.5625 L393.6094,149.0156 Q393.6094,149.625 393.375,149.8906 Q393.1406,150.1563 392.7656,150.1563 Q392.4219,150.1563 392.2188,149.9531 Q392.0156,149.7656 391.9063,149.25 Q391.8594,148.8906 391.6719,148.7031 Q391.3438,148.3281 390.7344,148.1094 Q390.125,147.8906 389.5,147.8906 Q388.7344,147.8906 388.0938,148.2188 Q387.4688,148.5469 386.9688,149.2969 Q386.4844,150.0469 386.4844,151.0781 L386.4844,152.1719 Q386.4844,153.4063 387.375,154.2344 Q388.2656,155.0469 389.8594,155.0469 Q390.7969,155.0469 391.4531,154.7969 Q391.8438,154.6406 392.2656,154.2031 Q392.5313,153.9375 392.6719,153.8594 Q392.8281,153.7813 393.0313,153.7813 Q393.3594,153.7813 393.6094,154.0469 Q393.875,154.2969 393.875,154.6406 Q393.875,154.9844 393.5313,155.3906 Q393.0313,155.9688 392.2344,156.2969 Q391.1563,156.75 389.8594,156.75 Q388.3438,156.75 387.1406,156.125 Q386.1563,155.625 385.4688,154.5625 Q384.7813,153.4844 384.7813,152.2031 L384.7813,151.0469 Q384.7813,149.7188 385.3906,148.5781 Q386.0156,147.4219 387.1094,146.8125 Q388.2031,146.1875 389.4375,146.1875 Q390.1719,146.1875 390.8125,146.3594 Q391.4688,146.5156 392.0156,146.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="409.75" y="156.7969">SubscriptionService</text><line style="stroke:#181818;stroke-width:0.5;" x1="254.5" x2="657.5" y1="167" y2="167"/><line style="stroke:#181818;stroke-width:0.5;" x1="254.5" x2="657.5" y1="175" y2="175"/><ellipse cx="264.5" cy="189.8105" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="379" x="273.5" y="194.1074">migrateAllSubscribers(Long currentPlanId, Long newPlanId);</text></g><!--MD5=[d845121cb320b282bcbc82de8d275a60]
class SubscriptionServiceImpl--><g id="elem_SubscriptionServiceImpl"><rect codeLine="10" fill="#F1F1F1" height="66.6211" id="SubscriptionServiceImpl" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="401" x="128.5" y="263"/><ellipse cx="249.75" cy="279" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M252.5156,274.875 Q252.6719,274.6563 252.8594,274.5469 Q253.0469,274.4375 253.2656,274.4375 Q253.6406,274.4375 253.875,274.7031 Q254.1094,274.9531 254.1094,275.5625 L254.1094,277.0156 Q254.1094,277.625 253.875,277.8906 Q253.6406,278.1563 253.2656,278.1563 Q252.9219,278.1563 252.7188,277.9531 Q252.5156,277.7656 252.4063,277.25 Q252.3594,276.8906 252.1719,276.7031 Q251.8438,276.3281 251.2344,276.1094 Q250.625,275.8906 250,275.8906 Q249.2344,275.8906 248.5938,276.2188 Q247.9688,276.5469 247.4688,277.2969 Q246.9844,278.0469 246.9844,279.0781 L246.9844,280.1719 Q246.9844,281.4063 247.875,282.2344 Q248.7656,283.0469 250.3594,283.0469 Q251.2969,283.0469 251.9531,282.7969 Q252.3438,282.6406 252.7656,282.2031 Q253.0313,281.9375 253.1719,281.8594 Q253.3281,281.7813 253.5313,281.7813 Q253.8594,281.7813 254.1094,282.0469 Q254.375,282.2969 254.375,282.6406 Q254.375,282.9844 254.0313,283.3906 Q253.5313,283.9688 252.7344,284.2969 Q251.6563,284.75 250.3594,284.75 Q248.8438,284.75 247.6406,284.125 Q246.6563,283.625 245.9688,282.5625 Q245.2813,281.4844 245.2813,280.2031 L245.2813,279.0469 Q245.2813,277.7188 245.8906,276.5781 Q246.5156,275.4219 247.6094,274.8125 Q248.7031,274.1875 249.9375,274.1875 Q250.6719,274.1875 251.3125,274.3594 Q251.9688,274.5156 252.5156,274.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="270.25" y="284.7969">SubscriptionServiceImpl</text><line style="stroke:#181818;stroke-width:0.5;" x1="129.5" x2="528.5" y1="295" y2="295"/><line style="stroke:#181818;stroke-width:0.5;" x1="129.5" x2="528.5" y1="303" y2="303"/><ellipse cx="139.5" cy="317.8105" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="375" x="148.5" y="322.1074">migrateAllSubscribers(Long currentPlanId, Long newPlanId)</text></g><!--MD5=[8cb61edb30e29c1e32ddb687c0ab6f7a]
class SubscriptionRepository--><g id="elem_SubscriptionRepository"><rect codeLine="14" fill="#F1F1F1" height="116.4453" id="SubscriptionRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="452" x="7" y="391"/><ellipse cx="155.75" cy="413.291" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M156.7031,409.9316 L156.7031,416.5879 L158.4219,416.5879 Q159.0313,416.5879 159.2969,416.8223 Q159.5625,417.0566 159.5625,417.4473 Q159.5625,417.8223 159.2969,418.0566 Q159.0313,418.291 158.4219,418.291 L153.2813,418.291 Q152.6719,418.291 152.4063,418.0566 Q152.1406,417.8223 152.1406,417.4316 Q152.1406,417.0566 152.4063,416.8223 Q152.6719,416.5879 153.2813,416.5879 L155,416.5879 L155,409.9316 L153.2813,409.9316 Q152.6719,409.9316 152.4063,409.6973 Q152.1406,409.4629 152.1406,409.0723 Q152.1406,408.6973 152.4063,408.4629 Q152.6719,408.2285 153.2813,408.2285 L158.4219,408.2285 Q159.0313,408.2285 159.2969,408.4629 Q159.5625,408.6973 159.5625,409.0723 Q159.5625,409.4629 159.2969,409.6973 Q159.0313,409.9316 158.4219,409.9316 L156.7031,409.9316 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="61" x="218.75" y="408.9492">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="146" x="176.25" y="427.0684">SubscriptionRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="458" y1="435.582" y2="435.582"/><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="458" y1="443.582" y2="443.582"/><ellipse cx="18" cy="458.3926" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186" x="27" y="462.6895">saveAll(subscriptions): Result</text><ellipse cx="18" cy="477.0137" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="426" x="27" y="481.3105">countSubscriptionsByPlan(currentPlanId, SubscriptionStatus.Active)</text><ellipse cx="18" cy="495.6348" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="390" x="27" y="499.9316">findSubscriptionsByPlanType(plan1.getPlanType(), pageable)</text></g><!--MD5=[545507b7baa8aade59e57dce916f0187]
class Subscription--><g id="elem_Subscription"><rect codeLine="22" fill="#F1F1F1" height="252.832" id="Subscription" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="516" x="254" y="586"/><ellipse cx="468.75" cy="602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M471.5156,597.875 Q471.6719,597.6563 471.8594,597.5469 Q472.0469,597.4375 472.2656,597.4375 Q472.6406,597.4375 472.875,597.7031 Q473.1094,597.9531 473.1094,598.5625 L473.1094,600.0156 Q473.1094,600.625 472.875,600.8906 Q472.6406,601.1563 472.2656,601.1563 Q471.9219,601.1563 471.7188,600.9531 Q471.5156,600.7656 471.4063,600.25 Q471.3594,599.8906 471.1719,599.7031 Q470.8438,599.3281 470.2344,599.1094 Q469.625,598.8906 469,598.8906 Q468.2344,598.8906 467.5938,599.2188 Q466.9688,599.5469 466.4688,600.2969 Q465.9844,601.0469 465.9844,602.0781 L465.9844,603.1719 Q465.9844,604.4063 466.875,605.2344 Q467.7656,606.0469 469.3594,606.0469 Q470.2969,606.0469 470.9531,605.7969 Q471.3438,605.6406 471.7656,605.2031 Q472.0313,604.9375 472.1719,604.8594 Q472.3281,604.7813 472.5313,604.7813 Q472.8594,604.7813 473.1094,605.0469 Q473.375,605.2969 473.375,605.6406 Q473.375,605.9844 473.0313,606.3906 Q472.5313,606.9688 471.7344,607.2969 Q470.6563,607.75 469.3594,607.75 Q467.8438,607.75 466.6406,607.125 Q465.6563,606.625 464.9688,605.5625 Q464.2813,604.4844 464.2813,603.2031 L464.2813,602.0469 Q464.2813,600.7188 464.8906,599.5781 Q465.5156,598.4219 466.6094,597.8125 Q467.7031,597.1875 468.9375,597.1875 Q469.6719,597.1875 470.3125,597.3594 Q470.9688,597.5156 471.5156,597.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="489.25" y="607.7969">Subscription</text><line style="stroke:#181818;stroke-width:0.5;" x1="255" x2="769" y1="618" y2="618"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="262" y="629.8105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="11" x="274" y="637.1074">id</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="262" y="648.4316"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="274" y="655.7285">subType</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="262" y="667.0527"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="274" y="674.3496">date</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="262" y="685.6738"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="274" y="692.9707">subState</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="262" y="704.2949"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="274" y="711.5918">feeType</text><line style="stroke:#181818;stroke-width:0.5;" x1="255" x2="769" y1="719.1055" y2="719.1055"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="490" x="274" y="738.2129">Subscription(int id, string subType, date date, string subState, string feeType)</text><ellipse cx="265" cy="752.5371" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="274" y="756.834">getID(): int</text><ellipse cx="265" cy="771.1582" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="274" y="775.4551">getSubType(): string</text><ellipse cx="265" cy="789.7793" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="274" y="794.0762">getDate(): date</text><ellipse cx="265" cy="808.4004" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="274" y="812.6973">getSubState(): string</text><ellipse cx="265" cy="827.0215" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="274" y="831.3184">getFeeType(): string</text></g><!--MD5=[735a3ef7641b41d5ec8e9b2441552fb7]
link SubscriptionRepository to Subscription--><g id="link_SubscriptionRepository_Subscription"><path codeLine="37" d="M293.88,507.06 C317.67,529.36 345.98,555.89 374.2,582.34 " fill="none" id="SubscriptionRepository-to-Subscription" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="378,585.9,374.1877,576.8189,374.359,582.4732,368.7047,582.6445,378,585.9" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="341" y="552.0283">records</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="294.2318" y="529.6064">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="349.225" y="574.7096">0..*</text></g><!--MD5=[7c0a5013189dd744519452e23d34a89f]
link SubscriptionController to SubscriptionService--><g id="link_SubscriptionController_SubscriptionService"><path codeLine="38" d="M456,74.28 C456,91.19 456,111.92 456,129.53 " fill="none" id="SubscriptionController-to-SubscriptionService" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="456,134.89,460,125.89,456,129.89,452,125.89,456,134.89" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[a463dccd8de9a3cde3f12b9a78431812]
link SubscriptionServiceImpl to SubscriptionRepository--><g id="link_SubscriptionServiceImpl_SubscriptionRepository"><path codeLine="39" d="M308.17,330.16 C297.66,346.63 284.56,367.17 272.25,386.47 " fill="none" id="SubscriptionServiceImpl-to-SubscriptionRepository" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="269.47,390.82,277.6801,385.3799,272.1572,386.6035,270.9336,381.0805,269.47,390.82" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[86081a14726a75d9e6fe321749ef4ce7]
link SubscriptionServiceImpl to Subscription--><g id="link_SubscriptionServiceImpl_Subscription"><path codeLine="40" d="M407.24,330.11 C433.27,344.87 459.74,364.96 476,391 C510.82,446.78 521.27,518.84 522.38,580.5 " fill="none" id="SubscriptionServiceImpl-to-Subscription" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="522.45,585.67,526.321,576.6138,522.3786,580.6705,518.3218,576.7281,522.45,585.67" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[1106b8449e6ce895e821e5b0220feefa]
link SubscriptionService to Subscription--><g id="link_SubscriptionService_Subscription"><path codeLine="41" d="M500.44,202.23 C518.51,218.29 537.37,239.29 547,263 C588.16,364.3 573.83,488.93 552.4,581.08 " fill="none" id="SubscriptionService-to-Subscription" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="551.24,586,557.195,578.1554,552.3852,581.1329,549.4077,576.3231,551.24,586" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[bd4fa322b08aba60ea02c44d11c186c0]
reverse link SubscriptionService to SubscriptionServiceImpl--><g id="link_SubscriptionService_SubscriptionServiceImpl"><path codeLine="42" d="M408.6,216.52 C393.05,231.96 376.11,248.76 361.87,262.89 " fill="none" id="SubscriptionService-backto-SubscriptionServiceImpl" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="403.84,211.39,422.96,202.28,413.7,221.33,403.84,211.39" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[c654c6e0ba8f157699003c37613a9e7a]
@startuml
class SubscriptionController {
 +migrateAllSubscribers(Long currentPlanId, Long newPlanId);
}



class SubscriptionService {
 +migrateAllSubscribers(Long currentPlanId, Long newPlanId);
}
class SubscriptionServiceImpl{
+migrateAllSubscribers(Long currentPlanId, Long newPlanId)
}

interface SubscriptionRepository <<interface>> {
 +saveAll(subscriptions): Result
 +countSubscriptionsByPlan(currentPlanId, SubscriptionStatus.Active)
+findSubscriptionsByPlanType(plan1.getPlanType(), pageable)

}


class Subscription {
    -id
    -subType
    -date
    -subState
    -feeType
    Subscription(int id, string subType, date date, string subState, string feeType)
    +getID(): int
    +getSubType(): string
    +getDate(): date
    +getSubState(): string
    +getFeeType(): string

}

SubscriptionRepository "1" - -> "0..*" Subscription:  records
SubscriptionController ..> SubscriptionService
SubscriptionServiceImpl ..> SubscriptionRepository
SubscriptionServiceImpl ..> Subscription
SubscriptionService ..> Subscription
SubscriptionServiceImpl .up.|> SubscriptionService
@enduml

PlantUML version 1.2022.13(Sat Nov 19 13:22:17 WET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>